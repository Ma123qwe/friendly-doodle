import{b as L,r as h,e as C,M as z,o as i,f as c,g as e,i as d,j as f,t,l as v,F as k,h as F,n as D,B as T,k as g,p as N,m as U}from"./vendor.ce825e00.js";import{r as V,_ as I}from"./index.27bb2621.js";function R(a){return V({url:"/lwgetData",method:"GET",params:a})}function j(a){return V({url:"/setScope",method:"POST",data:a})}function x(a){return V({url:"/tijiaoOK",method:"POST",data:a})}function Ue(a){return V({url:"/setlingfen",method:"POST",data:a})}const G={props:["setcorrectFlag"],setup(a){const u=L(),A=h([]),l=h(!1),y=h([]);y.value=[{zm:"A",i:0},{zm:"B",i:1},{zm:"C",i:2},{zm:"D",i:3},{zm:"E",i:4},{zm:"F",i:5},{zm:"G",i:6}],console.log(y.value),A.value=JSON.parse(u.state.AnswerSheet.studentPaper.list);let B=h(!1),p=h(null),m=h([]);return{store:u,paperList:A,handleChange:async(n,_)=>{await j({id:u.state.AnswerSheet.studentPaper.id,value:_,index:n}).then(),u.commit("AnswerSheet/setscore",{id:u.state.AnswerSheet.studentPaper.id,value:_,index:n})},numClick:n=>{p.value.scrollTo({top:m.value[n].offsetTop,behavior:"smooth"})},dialogVisible:B,rightRef:p,rightListRef:m,setItemRef:n=>{n&&m.value.push(n)},dialogVisible2:async()=>{B.value=!1,l.value=!0,await x({id:u.state.AnswerSheet.studentPaper.id}).then();let{value1:n,value2:_,page:b,pageSize:P}=u.state.AnswerSheet;setTimeout(async()=>{a.setcorrectFlag(!1),l.value=!1;let O=await R({value1:n,value2:_,page:b,pageSize:P}).then();u.commit("AnswerSheet/settableData",O.data),u.commit("AnswerSheet/setClode",!1)},1500)},loading:l,close:()=>{l.value=!0,setTimeout(async()=>{u.commit("AnswerSheet/setClode",!1),a.setcorrectFlag(!1),l.value=!1},1500)},options:y}}},o=a=>(N("data-v-60e07e9a"),a=a(),U(),a),J={class:"correct"},K={class:"corrects"},q={class:"left"},M={key:0,class:"ps"},H=g(" \u4F60\u8FD8\u6709"),Q=g("\u9053\u9898\u6CA1\u6279\u6539\u5B8C,\u786E\u5B9A\u63D0\u4EA4\u5417? "),W={key:1},X={class:"dialog-footer"},Y=g("\u53D6\u6D88"),Z=g("\u786E\u5B9A"),$={class:"leftTop",id:"listList"},ee={class:"p1"},se={class:"p4"},le={class:"number",id:"listList"},te=["onClick"],ne=o(()=>e("div",{class:"div2"},[e("p",{class:"p1"},"\u5DF2\u6279\u6539"),e("p",{class:"p2"},"\u672A\u6279\u6539")],-1)),oe={class:"submit",id:"listList"},ue=g("\u63D0\u4EA4\u6279\u6539"),ae=g("\u5173\u95ED"),re={class:"right",ref:"rightRef"},ie={key:0},ce=o(()=>e("span",null,"\u5206\u503C:",-1)),de=o(()=>e("span",null,"\u5F97\u5206:",-1)),pe={class:"p4"},_e=o(()=>e("span",null,"\u96BE\u5EA6:",-1)),he=o(()=>e("span",null,"\u5206\u6790:",-1)),fe=o(()=>e("span",null,"\u7B54\u6848:",-1)),ve=o(()=>e("span",null,"\u6B63\u786E\u7B54\u6848:",-1)),ge={key:1},me=o(()=>e("span",null,"\u5206\u503C:",-1)),ye=o(()=>e("span",null,"\u5F97\u5206:",-1)),we={class:"p4"},Ce=o(()=>e("span",null,"\u96BE\u5EA6:",-1)),Ve=o(()=>e("span",null,"\u5206\u6790:",-1)),Ae=o(()=>e("span",null,"\u7B54\u6848:",-1)),Be=o(()=>e("span",null,"\u6B63\u786E\u7B54\u6848:",-1)),Se={key:2},Ee=o(()=>e("span",null,"\u5206\u503C:",-1)),ke=o(()=>e("span",null,"\u5F97\u5206:",-1)),Fe=o(()=>e("span",null,"\u96BE\u5EA6:",-1)),De=o(()=>e("span",null,"\u5206\u6790:",-1)),be=o(()=>e("span",null,"\u7B54\u6848:",-1)),Pe=o(()=>e("span",null,"\u6B63\u786E\u7B54\u6848:",-1)),Oe=o(()=>e("span",null,"\u8BC4\u5206:",-1)),Le={key:0,class:"mc"};function ze(a,u,A,l,y,B){const p=C("el-button"),m=C("el-dialog"),w=C("el-rate"),S=C("el-input"),E=z("loading");return i(),c("div",J,[e("div",K,[e("div",q,[e("div",null,[d(m,{modelValue:l.dialogVisible,"onUpdate:modelValue":u[1]||(u[1]=s=>l.dialogVisible=s),title:"\u63D0\u4EA4\u6279\u6539",width:"30%"},{footer:f(()=>[e("span",X,[d(p,{onClick:u[0]||(u[0]=s=>l.dialogVisible=!1)},{default:f(()=>[Y]),_:1}),d(p,{type:"primary",onClick:l.dialogVisible2},{default:f(()=>[Z]),_:1},8,["onClick"])])]),default:f(()=>[l.paperList.filter(s=>!s.hasOwnProperty("score")||s.score==null).length>0?(i(),c("p",M,[H,e("span",null,t(l.paperList.filter(s=>!s.hasOwnProperty("score")||s.score==null).length),1),Q])):v("",!0),l.paperList.filter(s=>!s.hasOwnProperty("score")||s.score==null).length<=0?(i(),c("p",W," \u4F60\u5DF2\u6279\u6539\u5B8C\u5FC5,\u70B9\u51FB\u786E\u5B9A\u4FBF\u53EF\u63D0\u4EA4\u6279\u6539! ")):v("",!0)]),_:1},8,["modelValue"])]),e("div",$,[e("p",ee," \u4E13\u4E1A:"+t(l.store.state.AnswerSheet.studentPaper.stage),1),e("p",null,"\u73ED\u7EA7:"+t(l.store.state.AnswerSheet.studentPaper.class),1),e("p",null,"\u59D3\u540D:"+t(l.store.state.AnswerSheet.studentPaper.student),1),e("p",se," \u603B\u5206:"+t(JSON.parse(l.store.state.AnswerSheet.studentPaper.list).filter(s=>s.hasOwnProperty("score")).map(s=>s.score).reduce((s,r)=>s+=Number(r),0)),1)]),e("div",le,[e("div",null,[(i(!0),c(k,null,F(l.paperList,(s,r)=>(i(),c("span",{onClick:n=>l.numClick(r),key:r,class:D(!s.hasOwnProperty("score")||s.score==null?"span2":"span1")},t(r+1),11,te))),128))]),ne]),e("div",null,[e("div",oe,[d(p,{type:"primary",onClick:u[2]||(u[2]=s=>l.dialogVisible=!0)},{default:f(()=>[ue]),_:1}),d(p,{type:"primary",onClick:l.close},{default:f(()=>[ae]),_:1},8,["onClick"])])])]),e("div",re,[(i(!0),c(k,null,F(l.paperList,(s,r)=>(i(),c("div",{key:r,class:"rightList",ref_for:!0,ref:l.setItemRef},[s.type=="0"?(i(),c("div",ie,[e("p",null,[e("span",null,t(r+1)+":",1),e("span",null,t(s.title),1)]),e("p",null,[ce,e("span",null,t(s.value),1)]),e("p",null,[de,e("span",pe,t(s.score),1)]),e("p",null,[_e,d(w,{modelValue:s.difficulty,"onUpdate:modelValue":n=>s.difficulty=n,"allow-half":""},null,8,["modelValue","onUpdate:modelValue"])]),e("p",null,[he,e("span",null,t(s.point),1)]),e("p",null,[fe,e("span",null,t(s.student_answer[0]),1)]),e("p",null,[ve,e("span",null,t(s.answer),1)])])):v("",!0),s.type=="1"?(i(),c("div",ge,[e("p",null,[e("span",null,t(r+1)+":",1),e("span",null,t(s.title),1)]),e("p",null,[me,e("span",null,t(s.value),1)]),e("p",null,[ye,e("span",we,t(s.score),1)]),e("p",null,[Ce,d(w,{disabled:!1,modelValue:s.difficulty,"onUpdate:modelValue":n=>s.difficulty=n,"allow-half":""},null,8,["modelValue","onUpdate:modelValue"])]),e("p",null,[Ve,e("span",null,t(s.point),1)]),e("p",null,[Ae,e("span",null,t(l.options.filter((n,_)=>s.student_answer.indexOf(_)!=-1).map(n=>n.zm).join(",")),1)]),e("p",null,[Be,e("span",null,t(s.answer),1)])])):v("",!0),s.type=="2"?(i(),c("div",Se,[e("p",null,[e("span",null,t(r+1)+":",1),e("span",null,t(s.title),1)]),e("p",null,[Ee,e("span",null,t(s.value),1)]),e("p",null,[ke,e("span",{class:D(s.hasOwnProperty("score")?"p4":"span2")},t(s.hasOwnProperty("score")?s.score:"\u5F85\u6279\u6539"),3)]),e("p",null,[Fe,d(w,{modelValue:s.difficulty,"onUpdate:modelValue":n=>s.difficulty=n,"allow-half":""},null,8,["modelValue","onUpdate:modelValue"])]),e("p",null,[De,e("span",null,t(s.point),1)]),e("p",null,[be,e("span",null,t(s.student_answer),1)]),e("p",null,[Pe,e("span",null,t(s.answer),1)]),e("p",null,[Oe,d(S,{class:"inpRight",min:0,type:"Number",max:Number(s.value),modelValue:s.score,"onUpdate:modelValue":n=>s.score=n,placeholder:"\u8F93\u5165\u5206\u6570",onChange:n=>l.handleChange(r,s.score)},null,8,["max","modelValue","onUpdate:modelValue","onChange"])])])):v("",!0)]))),128))],512)]),l.loading==!0?T((i(),c("div",Le,null,512)),[[E,l.loading]]):v("",!0)])}var Ie=I(G,[["render",ze],["__scopeId","data-v-60e07e9a"]]);export{Ie as C,R as g,Ue as s};
